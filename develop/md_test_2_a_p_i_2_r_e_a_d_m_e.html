<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HDF5: HDF5 API Tests</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="hdf5doxy.css" rel="stylesheet" type="text/css">
<!-- <link href="hdf5doxy.css" rel="stylesheet" type="text/css"/>
 -->
<script type="text/javascript" src="hdf5_navtree_hacks.js"></script>
</head>
<body>
<div style="background:#FFDDDD;font-size:120%;text-align:center;margin:0;padding:5px">Please, help us to better serve our user community by answering the following short survey:  <a href="https://www.hdfgroup.org/website-survey/">https://www.hdfgroup.org/website-survey/</a></div>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="HDFG-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://www.hdfgroup.org">HDF5</a>
   &#160;<span id="projectnumber">1.15.0.4224aa0</span>
   </div>
   <div id="projectbrief">API Reference</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_test_2_a_p_i_2_r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">HDF5 API Tests</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md420"></a> This directory contains several test applications that exercise HDF5's public API and serve as regression tests for HDF5 <a href="https://hdfgroup.github.io/hdf5/develop/_h5_v_l__u_g.html">VOL Connectors</a>.</p>
<h1><a class="anchor" id="autotoc_md421"></a>
Build Process and options</h1>
<p>These HDF5 API tests are disabled by default, but can be enabled by passing the <code>-DHDF5_TEST_API=ON</code> option to CMake. The following build options are available to influence how the API tests get built:</p>
<h2><a class="anchor" id="autotoc_md422"></a>
CMake</h2>
<p>To set an option, it should be prepended with <code>-D</code> when passed to the <code>cmake</code> command. For example, </p><pre class="fragment">cmake -DHDF5_TEST_API=OFF ..
</pre><p> <code>HDF5_TEST_API</code> (Default: <code>ON</code>) - Determines whether the API tests will be built.</p>
<p><code>HDF5_TEST_API_INSTALL</code> (Default: <code>ON</code>) - Determines whether the API tests should be installed on the system.</p>
<p><code>HDF5_TEST_API_ENABLE_ASYNC</code> (Default: <code>OFF</code>) - Determines whether tests for HDF5's asynchronous I/O capabilities should be enabled. Note that the "native" HDF5 VOL connector doesn't support this functionality, so these tests are directed towards VOL connectors that do.</p>
<p><code>HDF5_TEST_ENABLE_DRIVER</code> (Default: <code>OFF</code>) - Determines whether the API test driver program should be built. This driver program is useful when a VOL connector relies upon a server executable (as well as possible additional executables) in order to function. The driver program can be supplied with a server executable and</p>
<p><code>HDF5_TEST_API_SERVER</code> (Default: empty string) - If <code>HDF5_TEST_ENABLE_DRIVER</code> is set to <code>ON</code>, this option should be edited to point to the server executable that the driver program should attempt to launch before running the API tests.</p>
<h2><a class="anchor" id="autotoc_md423"></a>
Autotools</h2>
<p>Currently unsupported</p>
<h2><a class="anchor" id="autotoc_md424"></a>
Usage</h2>
<p>These API tests currently only support usage with the native HDF5 VOL connector and HDF5 VOL connectors that can be loaded dynamically as a plugin. For information on how to build a VOL connector in this manner, refer to section 2.3 of the <a href="https://hdfgroup.github.io/hdf5/develop/_v_o_l__connector.html">HDF5 VOL Connector Author Guide</a>.</p>
<p>TODO: section on building VOL connectors alongside HDF5 for use with tests</p>
<p>These API tests can also be used to test an HDF5 VOL connector that is external to the library. For convenience, the <code>HDF5_TEST_API_INSTALL</code> option can be used to install these tests on the system where other HDF5 executables (such as <code>h5dump</code>) are installed.</p>
<p>To run these tests with your VOL connector, set the following two environment variables:</p>
<p><code>HDF5_VOL_CONNECTOR</code> - This environment variable should be set to the name chosen for the VOL connector to be used. For example, HDF5's DAOS VOL connector uses the name "[daos](https://github.com/HDFGroup/vol-daos/blob/v1.2.0/src/daos_vol.h#L30)" and would therefore set: </p><pre class="fragment">HDF5_VOL_CONNECTOR=daos
</pre><p> <code>HDF5_PLUGIN_PATH</code> - This environment variable should be set to the directory that contains the built library for the VOL connector to be used.</p>
<p>Once these are set, the HDF5 API tests will attempt to automatically load the specified VOL connector and use it when running tests. If HDF5 is unable to locate or load the VOL connector specified, it will fall back to running the tests with the native HDF5 VOL connector and an error similar to the following will appear in the test output: </p><pre class="fragment">HDF5-DIAG: Error detected in HDF5 (X.XX.X) MPI-process 0:
  #000: /home/user/git/hdf5/src/H5.c line 1010 in H5open(): library initialization failed
    major: Function entry/exit
    minor: Unable to initialize object
  #001: /home/user/git/hdf5/src/H5.c line 277 in H5_init_library(): unable to initialize vol interface
    major: Function entry/exit
    minor: Unable to initialize object
  #002: /home/user/git/hdf5/src/H5VLint.c line 199 in H5VL_init_phase2(): unable to set default VOL connector
    major: Virtual Object Layer
    minor: Can't set value
  #003: /home/user/git/hdf5/src/H5VLint.c line 429 in H5VL__set_def_conn(): can't register connector
    major: Virtual Object Layer
    minor: Unable to register new ID
  #004: /home/user/git/hdf5/src/H5VLint.c line 1321 in H5VL__register_connector_by_name(): unable to load VOL connector
    major: Virtual Object Layer
    minor: Unable to initialize object
</pre> <h2><a class="anchor" id="autotoc_md425"></a>
Help and Support</h2>
<p>For help with building or using the HDF5 API tests, please contact the <a href="https://help.hdfgroup.org/">HDF Help Desk</a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>

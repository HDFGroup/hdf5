<!-- NEW PAGE -->
<!-- HEADER RIGHT "H5check_version" -->
<hr>
<dl>

<dt><div align=right><font color=999999 size=-1><i>
    Last modified: 21 July 2010
    </i></font></div>

<dt><strong>Name:</strong> <a name="Library-VersCheck">H5check_version</a>
<dt><strong>Signature:</strong>
    <dd><em>herr_t</em> <code>H5check_version</code>(
            <em>unsigned</em> <code>majnum</code>,
            <em>unsigned</em> <code>minnum</code>,
            <em>unsigned</em> <code>relnum</code>
        )

<p>
<dt><strong>Purpose:</strong>
    <dd>Verifies that HDF5 library versions are consistent.

<p>
<dt><strong>Description:</strong>
    <dd><code>H5check_version</code> verifies that the version of the HDF5
        library with which an application was compiled, as indicated by
        the passed parameters, matches the version of the HDF5 library 
        against which the application is currently linked.
<!--
    <dd><code>H5check_version</code> verifies that the arguments provided 
        with the function call match the version numbers compiled into 
        the library.  
        If that check succeeds, <code>H5check_version</code> determines 
        whether other less critical information is consistent.
-->
        <p>
        <code>majnum</code> is the major version number of the HDF library 
        with which the application was compiled,
        <code>minnum</code> is the minor version number, and 
        <code>relnum</code> is the release number.
        Consider the following illustration:
        <dir>
            An official HDF5 release is labelled as follows:
            <br>
                <code>&nbsp;&nbsp;&nbsp;&nbsp;</code>
                HDF5 Release &lt;<code>majnum</code>&gt;<strong>.</strong>&lt;<code>minnum</code>&gt;<strong>.</strong>&lt;<code>relnum</code>&gt;
            <br>
            For example, in HDF5 Release 1.8.5:
            <ul>
                <li>1 is the major version number, <code>majnum</code>.
                <li>8 is the minor version number, <code>minnum</code>.
                <li>5 is the release number, <code>relnum</code>.
            </ul>
        </dir>  
        <p>

<!--
        As stated above, <code>H5check_version</code> serves two slightly 
        different purposes.
        One may look at the <code>H5check</code> definition in the file 
        <code>H5public.h</code> as an example.
        <p>
-->
        As stated above,
        <code>H5check_version</code> first verifies that the version 
        of the HDF5 library with which an application was compiled 
        matches the version of the HDF5 library against which the 
        application is currently linked. 
        If this check fails, <code>H5check_version</code> causes the 
        application to abort 
        (by means of a standard C <code>abort()</code> call)
        and prints information that is usually useful for debugging.
        This precaution is is taken to avoid the risks of data corruption 
        or segmentation faults. 
        <p>
        The most common cause of this failure is that an application 
        was compiled with one version of HDF5 and is dynamically linked 
        with a different version different version.
        <p>

<!-- SEEMS UNNECESSARY WITH THE REWRITE
        Note that <code>H5check_version</code> verifies only the 
        major and minor version numbers and the release number; 
        it does not verify the sub-release value as that should be 
        an empty string for any official release.
	This means that any two incompatible library versions must
	have different {major,minor,release} numbers. (Notice the
	reverse is not necessarily true.)
        <p>
-->
<!-- SEEMS INCONSISTENT
        , if the above check succeeds and no <code>abort()</code> 
        is called, <code>H5check_version</code> determines whether the 
        library version identifiers <code>H5_VERS_MAJOR</code>, 
        <code>H5_VERS_MINOR</code>, <code>H5_VERS_RELEASE</code>, 
        <code>H5_VERS_SUBRELEASE</code>, and <code>H5_VERS_INFO</code> 
        are consistent.
        This is designed to catch source code inconsistencies, 
        but does not generate the fatal error as in the first stage
	because this inconsistency does not cause errors in the data files.
        If this check reveals inconsistencies, the library issues a warning
        but the function does not fail.
-->
        <p>
        If the above test passes, <code>H5check_version</code> proceeds to 
        verify the consistency of additional library version information.
        This is designed to catch source code inconsistencies that 
        do not normally cause failures;  
        if this check reveals an inconsistency, an informational warning
        is printed but the application is allowed to run.  

<p>
<dt><strong>Parameters:</strong>
    <ul><table>
        <tr>
            <td valign="top"><em>unsigned </em><code>majnum</code></td>
            <td valign="top">IN: HDF5 library major version number.</td></tr>
        <tr>
            <td valign="top"><em>unsigned&nbsp;</em><code>minnum&nbsp;&nbsp;&nbsp;&nbsp;</code></td>
            <td valign="top">IN: HDF5 library minor version number.</td></tr>
        <tr>
            <td valign="top"><em>unsigned </em><code>relnum</code></td>
            <td valign="top">IN: HDF5 library release number.</td></tr>
    </table></ul>

<p>
<dt><strong>Returns:</strong>
    <dd>Returns a non-negative value if successful.
        Upon failure, this function causes the application to abort.

<p>
<dt><strong>Fortran90 Interface:</strong> h5check_version_f
    <dd>
    <pre>
SUBROUTINE h5check_version_f(hdferr) 
  IMPLICIT NONE
  INTEGER, INTENT(IN)  :: majnum      ! The major version of the library
  INTEGER, INTENT(IN)  :: minnum      ! The minor version of the library
  INTEGER, INTENT(IN)  :: relnum      ! The release number 
  INTEGER, INTENT(OUT) :: hdferr      ! Error code

END SUBROUTINE h5check_version_f
    </pre>


<p>
  <dt><strong>History:</strong>
	<ul><table width="90%">
        <tr>
          <td valign="top" align="left" width="10%">
            <strong>Release</strong>&nbsp;&nbsp;&nbsp;&nbsp;</td>
          <td valign="top" align="left">
            <strong>Fortran90</strong></td></tr>
        <tr>
          <td valign="top">1.4.5</td>
          <td valign="top">
            Function introduced in this release.</td></tr>
    </table></ul>		
		
</dl>


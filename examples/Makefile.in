## HDF5 Library Examples Makefile(.in)
##
## Copyright (C) 1997, 1998, 1999, 2000, 2001
##    National Center for Supercomputing Applications
##    All rights reserved.
##
top_srcdir=@top_srcdir@
top_builddir=..
srcdir=@srcdir@
@COMMENCE@

EXAMPLEDIR=$(docdir)/hdf5/examples/c

## Replace building CC with the just installed h5cc
CC=$(bindir)/h5cc
CPPFLAGS=-I. -I$(srcdir)
CFLAGS=

## These are the programs that `make all' or `make tests' will build and which
## `make check' will run. List them in the order they should be run.
TEST_PROGS_PARA=ph5example
TEST_PROGS=h5_write h5_read h5_extend_write h5_chunk_read h5_compound   \
	h5_group h5_select h5_attribute h5_mount h5_reference h5_drivers

## These are the files that `make clean' (and derivatives) will remove from
## this directory.
CLEAN=*.h5 *.raw *.meta

## List all source files here.  The list of object files will be
## created by replacing the `.c' with a `.o'.  This list is necessary
## for building automatic dependencies.
TEST_SRC_PARA=ph5example.c
TEST_SRC=h5_chunk_read.c h5_compound.c h5_extend_write.c h5_group.c     \
	 h5_read.c h5_write.c h5_select.c h5_attribute.c h5_mount.c     \
	 h5_reference.c h5_drivers.c $(TEST_SRC_PARA)
TEST_OBJ=$(TEST_SRC:.c=.lo)

EXAMPLE_PROGS=$(TEST_SRC)

## How to build the programs... they all depend on the hdf5 library
$(TEST_PROGS) $(TEST_PROGS_PARA): $(LIBHDF5)
h5_chunk_read: h5_chunk_read.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_chunk_read.lo

h5_compound: h5_compound.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_compound.lo

h5_extend_write: h5_extend_write.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_extend_write.lo

h5_group: h5_group.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_group.lo

h5_write: h5_write.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_write.lo

h5_read: h5_read.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_read.lo

h5_select: h5_select.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_select.lo

h5_attribute: h5_attribute.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_attribute.lo

h5_mount: h5_mount.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_mount.lo

h5_reference: h5_reference.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_reference.lo

h5_drivers: h5_drivers.lo
	@$(CC) $(CPPFLAGS) -o $@ h5_drivers.lo

ph5example: ph5example.lo
	@$(CC) $(CPPFLAGS) -o $@ $@.lo

@CONCLUDE@
